{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\saile\\\\Desktop\\\\Sailesh\\\\React\\\\Wiki\\\\wiki-client\\\\components\\\\Modal.js\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Modal from \"react-modal\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport { baseURL } from \"../constants/baseURL\";\nimport styles from \"../styles/Modal.module.css\";\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n    height: \"600px\",\n    width: \"550px\",\n    backgroundColor: \"#efefef\"\n  }\n};\nModal.setAppElement(\"body\");\nexport function MyModal({\n  isOpen,\n  setIsOpen,\n  setPrograms,\n  programs\n}) {\n  const {\n    0: name,\n    1: setName\n  } = useState(\"\");\n  const {\n    0: description,\n    1: setDescription\n  } = useState(\"\");\n  const {\n    0: start,\n    1: setStart\n  } = useState(\"\");\n  const {\n    0: end,\n    1: setEnd\n  } = useState(\"\");\n  const {\n    0: imgAddress,\n    1: setImgAddress\n  } = useState(\"\");\n  const {\n    0: saving,\n    1: setSaving\n  } = useState(false);\n  const {\n    0: newError,\n    1: setNewError\n  } = useState(null);\n\n  const closeModal = () => {\n    setIsOpen(false);\n    setNewError(false);\n  };\n\n  const handleSave = () => {\n    let token = localStorage.getItem(\"jwt_token\");\n    let uid = localStorage.getItem(\"uid\");\n    setSaving(true);\n    axios.post(`${baseURL}/programs`, {\n      createdBy: uid,\n      name,\n      description,\n      startedIn: start,\n      endedIn: end,\n      image: imgAddress\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(value => {\n      setSaving(false);\n\n      if (value.data.error !== null) {\n        setNewError(value.data.error);\n      } else {\n        setIsOpen(false);\n        let newProg = [value.data.program];\n        let newProgArray = programs.concat(newProg);\n        setPrograms(newProgArray);\n        setName(\"\");\n        setDescription(\"\");\n        setStart(\"\");\n        setEnd(\"\");\n        setImgAddress(\"\");\n      }\n    }).catch(error => {\n      console.error(error);\n      setSaving(false);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onRequestClose: closeModal,\n    style: customStyles,\n    contentLabel: \"Example Modal\",\n    children: saving ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.loader,\n      children: /*#__PURE__*/_jsxDEV(ClipLoader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.container,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.headingContainer,\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: styles.heading,\n            children: \"Add a new show\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.divider\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), newError ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.errorContainer,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: newError.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.modalBody,\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            className: styles.form,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.name,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: styles.label,\n                htmlFor: \"name\",\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: styles.input,\n                type: \"text\",\n                id: \"name\",\n                name: \"name\",\n                value: name,\n                onChange: e => setName(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.description,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: styles.label,\n                htmlFor: \"description\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                type: \"text\",\n                id: \"description\",\n                name: \"description\",\n                className: styles.input,\n                value: description,\n                onChange: e => setDescription(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.dates,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: styles.label,\n              htmlFor: \"start\",\n              children: \"Started in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"start\",\n              name: \"start\",\n              className: styles.input,\n              value: start,\n              onChange: e => setStart(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.dates,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: styles.label,\n              htmlFor: \"end\",\n              children: \"Ended in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"end\",\n              name: \"end\",\n              className: styles.input,\n              value: end,\n              onChange: e => setEnd(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.image,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: styles.label,\n              htmlFor: \"image\",\n              children: \"Image Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"image\",\n              name: \"image\",\n              className: styles.input,\n              value: imgAddress,\n              onChange: e => setImgAddress(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.divider\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.footer,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.saveButton,\n            onClick: () => handleSave(),\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.cancelButton,\n            onClick: closeModal,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["C:/Users/saile/Desktop/Sailesh/React/Wiki/wiki-client/components/Modal.js"],"names":["React","useState","axios","Modal","ClipLoader","baseURL","styles","customStyles","content","top","left","right","bottom","marginRight","transform","height","width","backgroundColor","setAppElement","MyModal","isOpen","setIsOpen","setPrograms","programs","name","setName","description","setDescription","start","setStart","end","setEnd","imgAddress","setImgAddress","saving","setSaving","newError","setNewError","closeModal","handleSave","token","localStorage","getItem","uid","post","createdBy","startedIn","endedIn","image","headers","Authorization","then","value","data","error","newProg","program","newProgArray","concat","catch","console","loader","container","headingContainer","heading","divider","errorContainer","message","modalBody","form","label","input","e","target","dates","footer","saveButton","cancelButton"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Modal from \"react-modal\";\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport { baseURL } from \"../constants/baseURL\";\r\nimport styles from \"../styles/Modal.module.css\";\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    height: \"600px\",\r\n    width: \"550px\",\r\n    backgroundColor: \"#efefef\",\r\n  },\r\n};\r\n\r\nModal.setAppElement(\"body\");\r\n\r\nexport function MyModal({ isOpen, setIsOpen, setPrograms, programs }) {\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [start, setStart] = useState(\"\");\r\n  const [end, setEnd] = useState(\"\");\r\n  const [imgAddress, setImgAddress] = useState(\"\");\r\n  const [saving, setSaving] = useState(false);\r\n  const [newError, setNewError] = useState(null);\r\n\r\n  const closeModal = () => {\r\n    setIsOpen(false);\r\n    setNewError(false);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    let token = localStorage.getItem(\"jwt_token\");\r\n    let uid = localStorage.getItem(\"uid\");\r\n    setSaving(true);\r\n    axios\r\n      .post(\r\n        `${baseURL}/programs`,\r\n        {\r\n          createdBy: uid,\r\n          name,\r\n          description,\r\n          startedIn: start,\r\n          endedIn: end,\r\n          image: imgAddress,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      )\r\n      .then((value) => {\r\n        setSaving(false);\r\n        if (value.data.error !== null) {\r\n          setNewError(value.data.error);\r\n        } else {\r\n          setIsOpen(false);\r\n          let newProg = [value.data.program];\r\n          let newProgArray = programs.concat(newProg);\r\n          setPrograms(newProgArray);\r\n          setName(\"\");\r\n          setDescription(\"\");\r\n          setStart(\"\");\r\n          setEnd(\"\");\r\n          setImgAddress(\"\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        setSaving(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      onRequestClose={closeModal}\r\n      style={customStyles}\r\n      contentLabel=\"Example Modal\"\r\n    >\r\n      {saving ? (\r\n        <div className={styles.loader}>\r\n          <ClipLoader />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className={styles.container}>\r\n            <div className={styles.headingContainer}>\r\n              <h2 className={styles.heading}>Add a new show</h2>\r\n            </div>\r\n            <div className={styles.divider}></div>\r\n            {newError ? (\r\n              <div className={styles.errorContainer}>\r\n                <p>{newError.message}</p>\r\n              </div>\r\n            ) : (\r\n              <div className={styles.modalBody}>\r\n                <form className={styles.form}>\r\n                  <div className={styles.name}>\r\n                    <label className={styles.label} htmlFor=\"name\">\r\n                      Name\r\n                    </label>\r\n                    <input\r\n                      className={styles.input}\r\n                      type=\"text\"\r\n                      id=\"name\"\r\n                      name=\"name\"\r\n                      value={name}\r\n                      onChange={(e) => setName(e.target.value)}\r\n                    />\r\n                  </div>\r\n                  <div className={styles.description}>\r\n                    <label className={styles.label} htmlFor=\"description\">\r\n                      Description\r\n                    </label>\r\n                    <textarea\r\n                      type=\"text\"\r\n                      id=\"description\"\r\n                      name=\"description\"\r\n                      className={styles.input}\r\n                      value={description}\r\n                      onChange={(e) => setDescription(e.target.value)}\r\n                    />\r\n                  </div>\r\n                </form>\r\n                <div className={styles.dates}>\r\n                  <label className={styles.label} htmlFor=\"start\">\r\n                    Started in\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"start\"\r\n                    name=\"start\"\r\n                    className={styles.input}\r\n                    value={start}\r\n                    onChange={(e) => setStart(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className={styles.dates}>\r\n                  <label className={styles.label} htmlFor=\"end\">\r\n                    Ended in\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"end\"\r\n                    name=\"end\"\r\n                    className={styles.input}\r\n                    value={end}\r\n                    onChange={(e) => setEnd(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className={styles.image}>\r\n                  <label className={styles.label} htmlFor=\"image\">\r\n                    Image Address\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"image\"\r\n                    name=\"image\"\r\n                    className={styles.input}\r\n                    value={imgAddress}\r\n                    onChange={(e) => setImgAddress(e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n            <div className={styles.divider}></div>\r\n            <div className={styles.footer}>\r\n              <button\r\n                className={styles.saveButton}\r\n                onClick={() => handleSave()}\r\n              >\r\n                Save\r\n              </button>\r\n              <button className={styles.cancelButton} onClick={closeModal}>\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </Modal>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}